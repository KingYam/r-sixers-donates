---
layout: layouts/base.njk
title: Home
---
<div class="container">
  <div class="row text-md-center pb-5">
    <div class="col">
      <h1 class="page-title pb-md-3">Let's Donate!</h1>
    </div>
  </div>
  <div class="row justify-content-md-center pt-5">
    <div class="col-md-10">
      <p>This site is dedicated to tracking total donations from charity drive posts found in the <a href="https://reddit.com/r/sixers" target="_blank" rel="noreferrer">r/sixers subreddit</a>, which are organized by our very own legendary local philanthrope and bball prophet <span class="minor-shout">u/mikeb32</span>. Thank you for all that you do!</p>
    </div>
  </div>
  <div class="row py-5">
    <div class="col">
      {%- set grand_total = 0 -%}
      {%- for post in collections.post -%}
        {% set grand_total = grand_total + post.data.totalDonations %}
      {%- endfor -%}
      <p class="shout-out">r/sixers has donated a grand total of <br /><span class="shout-total">$<script>document.write(({{ grand_total }}).toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&,'));</script></span><br />and counting!</p>
    </div>
  </div>
</div>
<div class="container-fluid">
  <div class="row py-5">
    <div class="col-md-6">
      <p class="post-list-title pb-md-0 pb-3">Select a post below for more details:</p>
      <ul class="post-list">
      {%- for post in collections.post -%}
        <li class="post-list-item py-3"><a href="{{ post.url }}"><span class="post-list-item-date">{{ post.data.humanDate }}</span><br />{{ post.data.title }}</a></li>
      {%- endfor -%}
      </ul>
    </div>
    <div class="col-md-6 align-self-center">
      <script src="{{ "/js/chart.min.js" | url }}"></script>
      <script src="{{ "/js/patternomaly.js" | url }}"></script>
      <canvas id="myChart" width="400" height="400" aria-label="Donation Pie Chart" role="img"></canvas>
      <script>
        var ctx = document.getElementById('myChart')
        var myChart = new Chart(ctx, {
            type: 'pie',
            data: {
                labels: [
                  {%- for post in collections.post -%}
                    '{{ post.data.doneeShort }}',
                  {%- endfor -%}
                  ],
                datasets: [{
                    label: 'Donations',
                    data: [
                      {%- for post in collections.post -%}
                        {{ post.data.totalDonations }},
                      {%- endfor -%}
                    ],
                    backgroundColor: [             
                      '#ed174c',
                      '#006bb6',
                      '#fa6975',
                      '#cdd8ed',
                      '#ff9ea1',
                      '#9bb2db',
                      '#648dc9',
                      '#ffcfcf',                       
                    ].concat(pattern.generate([  
                      '#ed174c',
                      '#006bb6',
                      '#fa6975',
                      '#cdd8ed',
                      '#ff9ea1',
                      '#9bb2db',
                      '#648dc9',  
                      '#ffcfcf',  
                    ])),
                    borderWidth: 0,
                }]
            },
            options: {
              color: '#fff',
              plugins: {
                legend: {
                  position: 'bottom',
                  align: 'left',
                }
              },
              onClick: function(event){
                   var chosenSlice = event.chart.tooltip.dataPoints[0].label;
                   switch(chosenSlice) {
                     {%- for post in collections.post -%}
                          case '{{ post.data.doneeShort }}':
                            window.location.href = '{{ post.url }} ';
                            break;
                    {%- endfor -%}
                    default:
                      break;
                    }
              },
            }
        });
      </script>
    </div>
  </div>
</div>
<div class="container">
  <div class="row justify-content-center py-5">
      <div class="col-md-9">
          <div class="disclaimer p-2 text-center">
              <p class="d-inline"><strong>Important note:</strong> these numbers are approximate as not everyone that donated posted totals and/or proof of donation.</p>
          </div>
      </div>
  </div>
  <div class="row py-5 justify-content-center">
    <div class="col-md-10">
      <p class="ty-message">An enormous and resounding <span class="thank-you">THANK YOU</span> to everyone that has donated and participated in these threads! It's people like you that truly make us the best fanbase in the league, and one we can all be proud to be a part of.</p>
      <p class="text-right">- u/folebear</p>
      </div>
  </div>
</div>
